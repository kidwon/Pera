(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(75157);let t=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...s}));t.displayName="Card";let i=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let d=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let n=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let l=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...s}));l.displayName="CardContent",s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>l,"CardDescription",()=>n,"CardHeader",()=>i,"CardTitle",()=>d])},30906,e=>{"use strict";e.i(47167);var r=e.i(43476);e.i(50711);var s=e.i(82045),a=e.i(83394),t=e.i(71645),i=e.i(49589),d=e.i(19455),n=e.i(15288),l=e.i(75157);let c=(0,e.i(75254).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);function o(){let{t:e}=(0,i.useLanguage)(),o=(0,s.useMutation)(a.api.cards.seed),g=(0,s.useMutation)(a.api.cards.deleteAllCards),u=(0,s.useMutation)(a.api.cards.testPing),m=(0,s.useMutation)(a.api.cards.seedOne),[x,p]=(0,t.useState)("idle"),[f,h]=(0,t.useState)(""),b=async()=>{p("loading"),h("Testing connection...");try{let e=await u();console.log("[PING] Result:",e),p("success"),h(`Ping OK: ${e}`)}catch(e){console.error("[PING] Error:",e),p("error"),h(`Ping FAILED: ${e.message}`)}},y=async()=>{p("loading"),h("Inserting one test card...");try{let e=await m();console.log("[SEED_ONE] Result:",e),p("success"),h(`SeedOne OK: ${e}`)}catch(e){console.error("[SEED_ONE] Error:",e),p("error"),h(`SeedOne FAILED: ${e.message}`)}},N=async()=>{p("loading"),h("Fetching dictionary data...");try{let r=await fetch("https://api.perapera.me/api/dictionary/seed");if(!r.ok)throw Error(`Server fetch failed: ${r.statusText}`);let s=await r.json();console.log("[SEED] Fetched entries:",s.length),h(`Fetched ${s.length}. Synchronizing...`);let a=JSON.stringify(s);console.log(`[SEED] JSON payload size: ${a.length} bytes`);let t=await o({json:a});console.log("[SEED] Result:",t),"string"==typeof t&&(t.startsWith("ERROR:")||t.startsWith("FATAL:"))?(p("error"),h(t)):(p("success"),h(`${e.seedSuccess} | ${t}`))}catch(e){console.error("[SEED] Frontend Error:",e),p("error"),h(e instanceof Error?`[Client] ${e.message}`:"An unexpected error occurred.")}},j=async()=>{if(confirm("Are you sure? This will delete ALL cards permanently.")){p("loading"),h("Clearing database...");try{let e=await g();p("success"),h(`Deleted ${e} cards.`)}catch(e){p("error"),h(e.message||"Failed to clear cards.")}}};return(0,r.jsx)("div",{className:"container mx-auto p-10 flex flex-col items-center gap-6",children:(0,r.jsxs)(n.Card,{className:"w-[520px] shadow-lg border-2 border-primary/10",children:[(0,r.jsxs)(n.CardHeader,{className:"text-center pb-2",children:[(0,r.jsxs)(n.CardTitle,{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[(0,r.jsx)(c,{className:"w-6 h-6 text-primary"}),e.seedDatabase]}),(0,r.jsx)(n.CardDescription,{children:"Database management & diagnostics"})]}),(0,r.jsxs)(n.CardContent,{className:"flex flex-col gap-5 pt-4",children:[(0,r.jsxs)("div",{className:(0,l.cn)("p-4 rounded-xl border flex flex-col gap-1 transition-all min-h-[60px]","success"===x?"bg-green-500/5 border-green-500/20":"error"===x?"bg-red-500/5 border-red-500/20":"loading"===x?"bg-blue-500/5 border-blue-500/20":"bg-muted/50 border-muted-foreground/10"),children:[(0,r.jsx)("h4",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"System Status"}),(0,r.jsxs)("p",{className:(0,l.cn)("text-sm font-medium break-all","success"===x?"text-green-600":"error"===x?"text-red-600":"text-foreground"),children:["idle"===x&&"Ready.","loading"===x&&(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"animate-pulse",children:"â—"})," ",f]}),"success"===x&&f,"error"===x&&f]})]}),(0,r.jsxs)("div",{className:"border rounded-lg p-3 bg-muted/30",children:[(0,r.jsx)("h4",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-2",children:"ðŸ”¬ Diagnostics"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)(d.Button,{variant:"secondary",size:"sm",onClick:b,disabled:"loading"===x,children:"Test Ping"}),(0,r.jsx)(d.Button,{variant:"secondary",size:"sm",onClick:y,disabled:"loading"===x,children:"Seed One Card"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,r.jsx)(d.Button,{onClick:N,disabled:"loading"===x,className:"h-12 text-base font-semibold",children:"loading"===x&&f.includes("Synchronizing")?"Synchronizing...":e.seedDatabase}),(0,r.jsx)(d.Button,{variant:"outline",onClick:j,disabled:"loading"===x,className:"h-12 text-destructive hover:text-destructive hover:bg-destructive/5 font-medium border-destructive/20",children:"Clear Collection (Reset)"})]}),(0,r.jsx)("div",{className:"text-[10px] text-center text-muted-foreground uppercase tracking-widest font-bold opacity-30",children:"Admin Only Interface"})]})]})})}e.s(["default",()=>o],30906)}]);